<ion-header appHideOnKeyboardShow>

  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button> </ion-back-button>
    </ion-buttons>
    <div> {{ 'NEW_ALARMA.TITLE' | translate:{value: null} }}
    </div>
    <!-- <ion-button class="noPadding  itemButtonT" fill="clear" color="secondary" (click)="this.onClickRefresh()">
      <ion-icon size="large" name="refresh-circle-outline" slot="icon-only"></ion-icon>
    </ion-button> -->
  </ion-toolbar>
</ion-header>

<ion-content>

  <!--   Function type  -->
  <!--   <ion-item lines="none">
    <ion-label text-wrap>
      {{'NEW_ALARMA.FUNCTION_TYPE'| translate:{value: null} }}</ion-label>
    <ion-select text-wrap class="selectFull" interface="popover" [(ngModel)]="this.newAlarma.funcion">
      <ion-select-option text-wrap class="selectFull" *ngFor="let funcion of this.funciones;" value={{funcion.id}}>
        {{funcion.id}}
      </ion-select-option>
    </ion-select>
  </ion-item>  -->



  <ion-item>
    <ion-label position="stacked" color="primary">
      {{ 'NEW_ALARMA.EMAIL_TO' | translate:{value: null} }}
    </ion-label>
    <ion-input appClassKey="cssDirective" appSelectOnClick [(ngModel)]="this.newAlarma.mailTo" type="email"
      placeholder="e-mail" color="dark">
    </ion-input>
  </ion-item>


  <ion-item>
    <ion-label position="stacked" color="primary">
      {{ 'NEW_ALARMA.NUMERO_TELEFONO' | translate:{value: null} }}
    </ion-label>
    <ion-input appClassKey="cssDirective" appSelectOnClick [(ngModel)]="this.newAlarma.numTlfTo" type="text"
      placeholder="telÃ©fono" color="dark">
    </ion-input>
    <ion-button slot="end" fill="clear" class="itemButtonB" (click)="onClickContactos() ">
      <ion-icon name="person-add-outline" size="large"></ion-icon>
    </ion-button>
  </ion-item>



  <div *ngFor="let alarma of alarmas;" class="marginH5 marginV5 noPadding contenedorTertiary">
    <ion-item-sliding>
      <ion-item-options side="start">
        <ion-item-option expandible color="none">
          <ion-button class="noMargin paddingV1" color="danger" fill="outline" (click)="onClickDeleteAlarma(alarma)">
            <ion-icon slot="icon-only" name="close"></ion-icon>
          </ion-button>
        </ion-item-option>
      </ion-item-options>
      <ion-item lines="none" color="light" tappable class="contenedorLight">
        <ion-label text-wrap class=" paddingH1">
          {{ 'NEW_PALABRA_MODAL.' +  alarma.funcion | translate:{value: null} }}:
          <br>{{alarma.mailTo}}
          <br>{{alarma.numTlfTo}}
        </ion-label>
      </ion-item>
    </ion-item-sliding>
  </div>

  <!-- DESCRIPCIONES -->
  <div *ngIf="alarmas.length === 0" class="marginH5 marginV5 noPadding contenedorTertiary">
    <ion-item lines="none" color="light" class="contenedorLight">
      <ion-icon name="information-circle-outline" style="position: absolute; right: 0.5em; bottom: 0.5em;"
        color="tertiary"></ion-icon>
      <ion-textarea [rows]="this.helper.getLineBreaks" class=" paddingH1" disabled>
        {{ 'NEW_ALARMA.DESCRIPCION' | translate:{value: null} }}
      </ion-textarea>
    </ion-item>
  </div>

</ion-content>


<ion-footer appHideOnKeyboardShow>
  <ion-toolbar>
    <ion-button [disabled]="(newAlarma.numTlfTo ==='' || newAlarma.mailTo==='')" slot="end" fill="clear"
      style="padding-right: 2em;" (click)="this.onClickAddAlarma()">
      <ion-label>{{'NEW_ALARMA.ADD_ALARMA'| translate:{value: null} }}</ion-label>
      <ion-icon name="add"></ion-icon>
    </ion-button>
  </ion-toolbar>

</ion-footer>